<div class="card" style="background: var(--card-bg); border: 1px solid var(--border);">
    <h4>Execution Details</h4>

    <div class="text-secondary mb-2" style="font-size: 0.875rem;">
        <strong>Job Template:</strong> {{ job_run.job_template_name }}<br>
        <strong>Started:</strong> {{ job_run.started_at }}<br>
        {% match job_run.completed_at %}
        {% when Some with (ca) %}
        <strong>Completed:</strong> {{ ca }}<br>
        <strong>Duration:</strong> {{ job_run.duration_seconds }}s<br>
        {% when None %}
        <strong>Status:</strong> <span class="text-info">Running...</span>
        {% endmatch %}
    </div>

    <h5>Server Results</h5>
    <div id="server-results-{{ job_run.id }}">
        {% include "components/server_job_results.html" %}
    </div>

    <div class="mt-2">
        <button hx-get="/job-runs/{{ job_run.id }}/results"
                hx-target="#server-results-{{ job_run.id }}"
                hx-swap="innerHTML"
                class="btn btn-sm btn-secondary">
            <i data-lucide="refresh-cw" style="width: 12px; height: 12px;"></i> Refresh Results
        </button>
    </div>
</div>
